function googleApiAvailable(){return"object"==typeof window.google&&null!==window.google&&"object"==typeof window.google.maps&&null!==window.google.maps}function initActivitiesMap(){if(!googleApiAvailable())return!1;var t="#activities-map",e={lat:54.0001,lng:55.0001},i=document.querySelector(t);if("object"!=typeof i||null===i)return!1;var o=i.getAttribute("data-lat"),n=i.getAttribute("data-lng");null!==o&&null!==n&&(e.lat=parseFloat(o),e.lng=parseFloat(n));var a={zoom:10,scrollwheel:!1,navigationControl:!0,mapTypeControl:!1,scaleControl:!1,center:new google.maps.LatLng(e.lat,e.lng)},l=new google.maps.Map(i,a);if("mapActivities"in window&&"object"==typeof window.mapActivities&&null!==window.mapActivities){var r=[],g=new google.maps.InfoWindow,s=0,p=0;for(idx in window.mapActivities){var c=window.mapActivities[idx];s+=parseFloat(c.lat/window.mapActivities.length),p+=parseFloat(c.lng/window.mapActivities.length);var w=new google.maps.LatLng(parseFloat(c.lat),parseFloat(c.lng)),d=new google.maps.Marker({position:w,map:l,optimized:!1});google.maps.event.addListener(d,"click",function(t,e){return function(){g.setContent(window.mapActivities[e].title),g.setOptions({maxWidth:256}),g.open(l,t)}}(d,idx)),r.push(d)}var v=new google.maps.LatLng(s,p);l.setCenter(v),console.debug(r);new MarkerClusterer(l,r,{gridSize:50,maxZoom:15,imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"})}}$(function(){$(".spoiler .spoiler__trigger").click(function(t){var e=$(this).parent();$(e).find(".spoiler__content").toggle()}),$("#table-last-activities").tablesorter({textExtraction:function(t){var e=t.dataset,i=e.value;return void 0!=i?i:t.textContent}}),initActivitiesMap()});